load("//tool/bazel:fildesh_test.bzl", "fildesh_test")

cc_test(
    name = "append_test",
    srcs = ["append_test.c"],
    deps = ["//:sxproto_lib"],
)

cc_test(
    name = "assign_test",
    srcs = ["assign_test.c"],
    deps = ["//:sxproto_lib"],
)

cc_test(
    name = "create_test",
    srcs = ["create_test.c"],
    deps = ["//:sxproto_lib"],
)

cc_test(
    name = "parse_test",
    srcs = ["parse_test.c"],
    deps = ["//:sxproto_lib"],
)

cc_test(
    name = "parse_with_schema_test",
    srcs = ["parse_with_schema_test.c"],
    deps = ["//:sxproto_lib"],
)

fildesh_test(
    name = "sxpb2json_test",
    srcs = ["sxpb2json_test.fildesh"],
    input_by_option = {
        "sxpb": "//test/sxproto/content:message.sxpb",
        "json": "//test/sxproto/content:message.json",
    },
)

fildesh_test(
    name = "sxpb2txtpb_test",
    srcs = ["sxpb2txtpb_test.fildesh"],
    input_by_option = {
        "sxpb": "//test/sxproto/content:message.sxpb",
        "txtpb": "//test/sxproto/content:message.txtpb",
    },
)
